<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.will.homestay.mapper.MouthDataMapper">
    <select id="mouthOrder" resultType="Integer">
        /*计算本月订单量*/
        SELECT COUNT(*) FROM tb_order_detail WHERE (tb_order_detail.`order_condition` = 1) AND (MONTH(tb_order_detail.`start_time`) = MONTH(NOW()))
    </select>
    <select id="mouthIncome" resultType="BigDecimal">
        <!--计算本月收入-->
        SELECT SUM(tb_order_detail.`pay`) FROM tb_order_detail WHERE (tb_order_detail.`order_condition` = 1) AND (MONTH(tb_order_detail.`start_time`) = MONTH(NOW()))
    </select>
    <select id="mouthLiving" resultType="Integer">
        <!--计算本月入住人数-->
        SELECT COUNT(*) FROM tb_order_detail WHERE (tb_order_detail.`order_condition` = 1) AND (MONTH(tb_order_detail.`start_time`) = MONTH(NOW()))
    </select>
</mapper>
