<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Mosaddek">
    <meta name="keyword" content="FlatLab, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
    <link rel="shortcut icon" href="../../../static/img/favicon.png">

    <title>民宿详情</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../static/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../static/css/bootstrap-reset.css" rel="stylesheet">
    <!--external css-->
    <link href="../../../static/assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link href="../../../static/assets/jquery-ui/jquery-ui-1.10.1.custom.min.css" rel="stylesheet"/>
      <!--right slidebar-->
      <link href="../../../static/css/slidebars.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="../../../static/css/style.css" rel="stylesheet">
    <link href="../../../static/css/style-responsive.css" rel="stylesheet" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 tooltipss and media queries -->
    <!--[if lt IE 9]>
      <script src="../../../static/js/html5shiv.js"></script>
      <script src="../../../static/js/respond.min.js"></script>
    <![endif]-->


  </head>

  <body>

  <section id="container" class="">

      <div class="panel panel-success" style="opacity: 1;">
          <div class="panel-heading" style="font-size: large">Tips</div>
          <!--<div th:if="${session.msg}" class="panel-body" style="text-align: center;color: #c9302c;font-size: medium" th:text="${session.msg}"></div>-->
          <div class="panel-body" th:text="${message}" style="text-align: center;color: #c9302c;font-size: medium">
          </div>
      </div>

      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">
              <!-- page start-->
              <div class="row">
                  <div class="col-md-10">
                      <section class="panel">
                          <div class="panel-body">
                              <div class="col-md-6">
                                  <div class="pro-img-details">
                                      <img th:src="@{/pic/}+${room.getPic()}" style="width: 500px; height: 460px;" alt=""/>
                                  </div>
                              </div>
                              <div class="col-md-6">
                                  <h4 class="pro-d-title">
                                      <a href="#" class="" th:text="${room.getRoomAddress()}">
                                      </a>
                                      <a th:href="@{/homestay/desire/addDesire(roomId = ${room.getRoomId()})}">
                                          <i class="fa fa-star"></i>
                                      </a>
                                  </h4>
                                  <p th:text="${room.getRoomDescrible()}">
                                  </p>
                                  <div class="product_meta">
                                      <span class="posted_in"> <strong>房间类型:</strong> <a rel="tag" href="#" th:text="${room.getRoomType()}"></a>.</span>
                                      <span class="tagged_as"><strong>房间大小:</strong> <a rel="tag" href="#" th:text="${room.getRoomSize()}+'㎡'"></a>.</span>
                                      <span class="tagged_as"><strong>平均得分:</strong> <a rel="tag" href="#" th:text="${avg_rate}+分"></a>.</span>
                                      <span class="tagged_as"><strong>地图显示:</strong> <a rel="tag" th:href="@{/navigate}" >地图位置</a></span>
                                  </div>
                                  <div class="m-bot15"> <strong>Price : </strong> <span class="amount-old">$544</span>  <span class="pro-price" id="price" th:text="${room.getRoomPrice()}"></span></div>
                                  <!--如果是普通用户就显示表单-->
                                  <form th:if="${user.getUserType().equals('ROLE_COMMON')}" role="form" method="post" th:action="@{/homestay/order-detail/conform}">
                                      <div class="form-group">
                                          <label class="control-label">入住时间</label>
                                          <div>
                                              <input name="roomId" hidden="hidden" th:value="${room.getRoomId()}">
                                              <input name="landlordId" hidden="hidden" th:value="${room.getLandlordId()}">
                                              <div class="input-group input-large">
                                                  <input type="date" class="form-control dpd1" name="startTime" id="startTime">
                                                  <span class="input-group-addon">To</span>
                                                  <input type="date" class="form-control dpd2" name="endTime" id="endTime">
                                              </div>
                                              <span class="help-block col-md-offset-5">选择时间范围</span>
                                              <button type="button" class="btn btn-info col-md-offset-5" id="add-text-btn" onclick="addText()">确定</button>
                                          </div>
                                          <br>
                                          <div>
                                              <strong>总计 : </strong><input readonly id="days-between" style="width: 50px;padding-left: 5px" th:value="0"><strong>天 </strong>
                                          </div>
                                          <br>
                                          <div>
                                              <strong>总金额 : </strong><input readonly name="pay" type="" style="width: 50px;padding-left: 5px" th:value="0" id="total-price"><strong>￥ </strong>
                                          </div>
                                          <br>
                                          <p>
                                              <button class="btn btn-round btn-danger" type="submit"><i class="fa fa-cny (alias)"></i> 订购</button>
                                          </p>
                                      </div>
                                  </form>

                              </div>
                          </div>
                      </section>

                      <section class="panel">
                          <header class="panel-heading tab-bg-dark-navy-blue">
                              <ul class="nav nav-tabs ">
                                  <li class="active">
                                      <a data-toggle="tab" href="#description">
                                          描述
                                      </a>
                                  </li>
                                  <li>
                                      <a data-toggle="tab" href="#reviews">
                                          评论
                                      </a>
                                  </li>

                              </ul>
                          </header>
                          <div class="panel-body">
                              <div class="tab-content tasi-tab">
                                  <div id="description" class="tab-pane active">
                                      <h4 class="pro-d-head">伴城民宿</h4>
                                      <p> 位于一座古老的城市中心，是一座两层的独立建筑。建筑外表采用了传统的城市建筑样式，灰瓦屋顶、小青砖和白墙构成了其主要的外观风格。在建筑的内部，客厅、卧室、浴室等空间布局紧凑，装修简洁大方，色调温馨舒适。 </p>
                                      <p> 服务非常周到，主人会热情地向您介绍城市的景点和交通路线，并提供出行建议和便利设施。如果您需要，主人还可以为您提供早餐和晚餐的预订服务，让您感受到家一般的温暖。</p>
                                  </div>
                                  <div id="reviews" class="tab-pane">
                                      <article th:each="roomComment:${roomComments}" class="media">
                                          <a class="pull-left thumb p-thumb">
                                              <img th:src="@{/pic/}+${roomComment.getUserPic()}">
                                          </a>
                                          <div class="media-body">
                                              <a href="#" class="cmt-head" th:text="${roomComment.getUsername()}"></a>
                                              <a href="#" class="cmt-head" th:text="${roomComment.getContent()}"></a>
                                              <p> <i class="fa fa-time" th:text="${roomComment.getTime()}"></i></p>
                                          </div>
                                      </article>
                                  </div>
                              </div>
                          </div>
                      </section>

                      <div class="row product-list">
                          <div class="col-md-4">
                              <section class="panel">
                                  <div class="pro-img-box">
                                      <img src="../../../static/img/product-list/pro-1.jpg" alt=""/>
                                      <a href="#" class="adtocart">
                                          <i class="fa fa-shopping-cart"></i>
                                      </a>
                                  </div>

                                  <div class="panel-body text-center">
                                      <h4>
                                          <a href="#" class="pro-title">
                                              Leopard Shirt Dress
                                          </a>
                                      </h4>
                                      <p class="price">$300.00</p>
                                  </div>
                              </section>
                          </div>
                          <div class="col-md-4">
                              <section class="panel">
                                  <div class="pro-img-box">
                                      <img src="../../../static/img/product-list/pro1.jpg" alt=""/>
                                      <a href="#" class="adtocart">
                                          <i class="fa fa-shopping-cart"></i>
                                      </a>
                                  </div>

                                  <div class="panel-body text-center">
                                      <h4>
                                          <a href="#" class="pro-title">
                                              Leopard Shirt Dress
                                          </a>
                                      </h4>
                                      <p class="price">$300.00</p>
                                  </div>
                              </section>
                          </div>
                          <div class="col-md-4">
                              <section class="panel">
                                  <div class="pro-img-box">
                                      <img src="../../../static/img/product-list/pro2.jpg" alt=""/>
                                      <a href="#" class="adtocart">
                                          <i class="fa fa-shopping-cart"></i>
                                      </a>
                                  </div>

                                  <div class="panel-body text-center">
                                      <h4>
                                          <a href="#" class="pro-title">
                                              Leopard Shirt Dress
                                          </a>
                                      </h4>
                                      <p class="price">$300.00</p>
                                  </div>
                              </section>
                          </div>

                      </div>
                  </div>
              </div>
              <!-- page end-->
          </section>
      </section>
      <!--main content end-->

      <!-- Right Slidebar start -->
      <div class="sb-slidebar sb-right sb-style-overlay">
          <h5 class="side-title">Online Customers</h5>
          <ul class="quick-chat-list">
              <li class="online">
                  <div class="media">
                      <a href="#" class="pull-left media-thumb">
                          <img alt="" src="../../../static/img/chat-avatar2.jpg" class="media-object">
                      </a>
                      <div class="media-body">
                          <strong>John Doe</strong>
                          <small>Dream Land, AU</small>
                      </div>
                  </div><!-- media -->
              </li>
              <li class="online">
                  <div class="media">
                      <a href="#" class="pull-left media-thumb">
                          <img alt="" src="../../../static/img/chat-avatar.jpg" class="media-object">
                      </a>
                      <div class="media-body">
                          <div class="media-status">
                              <span class=" badge bg-important">3</span>
                          </div>
                          <strong>Jonathan Smith</strong>
                          <small>United States</small>
                      </div>
                  </div><!-- media -->
              </li>

              <li class="online">
                  <div class="media">
                      <a href="#" class="pull-left media-thumb">
                          <img alt="" src="../../../static/img/pro-ac-1.png" class="media-object">
                      </a>
                      <div class="media-body">
                          <div class="media-status">
                              <span class=" badge bg-success">5</span>
                          </div>
                          <strong>Jane Doe</strong>
                          <small>ABC, USA</small>
                      </div>
                  </div><!-- media -->
              </li>
              <li class="online">
                  <div class="media">
                      <a href="#" class="pull-left media-thumb">
                          <img alt="" src="../../../static/img/avatar1.jpg" class="media-object">
                      </a>
                      <div class="media-body">
                          <strong>Anjelina Joli</strong>
                          <small>Fockland, UK</small>
                      </div>
                  </div><!-- media -->
              </li>
              <li class="online">
                  <div class="media">
                      <a href="#" class="pull-left media-thumb">
                          <img alt="" src="../../../static/img/mail-avatar.jpg" class="media-object">
                      </a>
                      <div class="media-body">
                          <div class="media-status">
                              <span class=" badge bg-warning">7</span>
                          </div>
                          <strong>Mr Tasi</strong>
                          <small>Dream Land, USA</small>
                      </div>
                  </div><!-- media -->
              </li>
          </ul>
          <h5 class="side-title"> pending Task</h5>
          <ul class="p-task tasks-bar">
              <li>
                  <a href="#">
                      <div class="task-info">
                          <div class="desc">Dashboard v1.3</div>
                          <div class="percent">40%</div>
                      </div>
                      <div class="progress progress-striped">
                          <div style="width: 40%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="40" role="progressbar" class="progress-bar progress-bar-success">
                              <span class="sr-only">40% Complete (success)</span>
                          </div>
                      </div>
                  </a>
              </li>
              <li>
                  <a href="#">
                      <div class="task-info">
                          <div class="desc">Database Update</div>
                          <div class="percent">60%</div>
                      </div>
                      <div class="progress progress-striped">
                          <div style="width: 60%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="60" role="progressbar" class="progress-bar progress-bar-warning">
                              <span class="sr-only">60% Complete (warning)</span>
                          </div>
                      </div>
                  </a>
              </li>
              <li>
                  <a href="#">
                      <div class="task-info">
                          <div class="desc">Iphone Development</div>
                          <div class="percent">87%</div>
                      </div>
                      <div class="progress progress-striped">
                          <div style="width: 87%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="20" role="progressbar" class="progress-bar progress-bar-info">
                              <span class="sr-only">87% Complete</span>
                          </div>
                      </div>
                  </a>
              </li>
              <li>
                  <a href="#">
                      <div class="task-info">
                          <div class="desc">Mobile App</div>
                          <div class="percent">33%</div>
                      </div>
                      <div class="progress progress-striped">
                          <div style="width: 33%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="80" role="progressbar" class="progress-bar progress-bar-danger">
                              <span class="sr-only">33% Complete (danger)</span>
                          </div>
                      </div>
                  </a>
              </li>
              <li>
                  <a href="#">
                      <div class="task-info">
                          <div class="desc">Dashboard v1.3</div>
                          <div class="percent">45%</div>
                      </div>
                      <div class="progress progress-striped active">
                          <div style="width: 45%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="45" role="progressbar" class="progress-bar">
                              <span class="sr-only">45% Complete</span>
                          </div>
                      </div>

                  </a>
              </li>
              <li class="external">
                  <a href="#">See All Tasks</a>
              </li>
          </ul>
      </div>
      <!-- Right Slidebar end -->

      <!--footer start-->
      <footer class="site-footer">
          <div class="text-center">
              2013 &copy; FlatLab by VectorLab.
              <a href="#" class="go-top">
                  <i class="fa fa-angle-up"></i>
              </a>
          </div>
      </footer>
      <!--footer end-->



  </section>

    <!-- js placed at the end of the document so the pages load faster -->
    <script src="../../../static/js/jquery.js"></script>
    <script src="../../../static/js/bootstrap.min.js"></script>
    <script class="include" type="text/javascript" src="../../../static/js/jquery.dcjqaccordion.2.7.js"></script>
    <script src="../../../static/js/jquery.scrollTo.min.js"></script>
    <script src="../../../static/js/jquery.nicescroll.js" type="text/javascript"></script>
    <script src="../../../static/assets/jquery-ui/jquery-ui-1.10.1.custom.min.js" type="text/javascript"></script>
    <script src="../../../static/js/jquery.ui.touch-punch.min.js"></script>
    <script src="../../../static/js/jquery.customSelect.min.js" ></script>

    <script src="../../../static/js/respond.min.js" ></script>

  <!--right slidebar-->
  <script src="../../../static/js/slidebars.min.js"></script>

    <!--common script for all pages-->
    <script src="../../../static/js/common-scripts.js"></script>


      <script type="text/javascript">

          $(document).ready(function() {

              $(function(){
                  $('select.styled').customSelect();
              });
          });
      </script>
  <script>
      // 获取按钮的引用
      const addTextButton = document.getElementById('add-text-btn');

      // 定义函数
      function addText() {
          // 获取用户输入的两个时间
          const startInput = document.getElementById('startTime');
          const endInput = document.getElementById('endTime');
          // 获取单价
          const price = document.getElementById('price').innerText;

          // 将用户输入的字符串转换为 JavaScript 的 Date 对象
          const startDate = new Date(startInput.value);
          const endDate = new Date(endInput.value);

          // 计算两个时间之间的天数
          const daysBetween = (endDate.getTime() - startDate.getTime()) / (24.0 * 60.0 * 60.0 * 1000.0);

          // 显示天数
          const myInput = document.getElementById('days-between');
          myInput.value = daysBetween;
          // 显示总价格
          const totalPrice = document.getElementById('total-price');
          totalPrice.value = price*daysBetween;
      }

  </script>

  </body>
</html>
